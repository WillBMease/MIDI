<!doctype html>
<html>
	<head>
		<title> Socket.IO chat </title>

  <link rel="stylesheet" href="css/style.css">
  <link href="css/fancy.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  <script type="text/javascript" src="http://cdn.peerjs.com/0.3/peer.js"></script>

		 <script src="js/WebMIDIAPI.js"></script>
		 <script src="js/tuna.js"></script>
		 <script src="js/webrtc.js"></script>
		 <script src="js/mainHandle.js"></script>
		 <script src="js/dataProcess.js"></script>
		 <script src="js/effects.js"></script>
		 <script src="js/video.js"></script>
		 <script src="js/instrumentChange.js"></script>
		 <script src="js/ping.js"></script>
		 <script src="js/audioTest.js"></script>
		 <script src="js/sampleMapping.js"></script>
		 <script src="js/metronome.js"></script>
		 <script src="js/audioTest.js"></script>
		 <script src="js/midiInputConversion.js"></script>
		 <script src="js/surfaceControllers.js"></script>
		 <script src="js/controllerConversion.js"></script>
		 <script src="js/soundjack.js" />

	</head>

	<body>

<a class = "inavibe">
inavibe</a>

<h2>
<div class="row1">
<a id="bass" class="changeInstrument"><i>bass</i>
<a id="harp" class="changeInstrument"><i>harp</i></a>
<a id="gPiano" class="changeInstrument"><i>piano</i></a>
<a id="jazzdrums" class="changeInstrument"><i>drums</i><a>
<a id="brass" class="changeInstrument"><i>brass</i></a>
<a id="organ" class="changeInstrument"><i>organ</i></a>
</div>
<div class="row2">
<a id="bells" class="changeInstrument"><i>bells</i></a>
<a id="flute" class="changeInstrument"><i>flute</i></a>
<a id="violin" class="changeInstrument"><i>violin</i></a>
<a id="alto_sax" class="changeInstrument"><i>alto sax</i></a>
<a id="western_piano" class="changeInstrument"><i>western piano</i></a>
<a id="ballad_guitar" class="changeInstrument"><i>ballad guitar</i></a>
</div>
<div class="row3">
<a id="blown_bottles" class="changeInstrument"><i>blown bottles</i></a>
<a id="soft_voices" class="changeInstrument"><i>soft voices</i></a>
<a id="electric_guitar" class="changeInstrument"><i>electric guitar</i></a>
<a id="pizzicato" class="changeInstrument"><i>pizzicato</i></a>
<a id="old_strings" class="changeInstrument"><i>oldstrings</i></a> 
<a id="numb" class="changeInstrument"><i>numb</i></a>
<a id="metronome" class="changeInstrument"><i>loadMetro</i></a>

<a class = "midi-pos" onclick = "runTest();" ><i>midi</i></a>
<a class = "controller-pos" onclick = "assignControllers();" ><i>Assign Controller</i></a>
</div>
</h2>

<h6>
<a id="convolver" class = "outgoingEffect" ><i>Reverb</i></a>
<a id="wahwah" class = "outgoingEffect" ><i>WahWah</i></a>
<a id="overdrive" class = "outgoingEffect" ><i>Overdrive</i></a>
<a id="chorus" class = "outgoingEffect" ><i>Chorus</i></a>
<a id="phaser" class = "outgoingEffect" ><i>Phaser</i></a>
<a id="cabinet" class = "outgoingEffect" ><i>Cabinet</i></a>
<a id="tremolo" class = "outgoingEffect" ><i>Tremolo</i></a>
<a id="delay" class = "outgoingEffect" ><i>Delay</i></a>
<a id="compressor" class = "outgoingEffect" ><i>Compressor</i></a>
<a id="filter" class = "outgoingEffect" ><i>filter</i></a>
<a onclick = "startMetronome()" ><i>Metronome</i></a>
</h6>


</h2>
<!-- <h3><a class = "midi-pos-download" href = "http://jazz-soft.net/"> download MIDI support</a></h3> -->
<h4>
	<pre id="log">
	</pre>
	<div class = "midi-pos" id="MIDIPlugin" style="position:absolute; visibility:hidden"></div>

	<pre id="log">
	</pre>
	<div class = "controller-pos" id="MIDIController" style="position:absolute; visibility:hidden"></div>
</h4>


</div>
<!--//// Audio samples for you ////////////////////////// -->

	<ul class="audioBin0">
	<li></li>

	</ul>
<!--//// Audio samples for 1st connection//////////////// -->
	<ul class="audioBin1">
	<li></li>

	</ul>
<!--//// Audio Samples for 2nd connection//////////////// -->

	<ul class="audioBin2">
	<li></li>

	</ul>
<!--//// Audio samples for 3rd connection//////////////// -->
	<ul class="audioBin3">
	<li></li>

	</ul>

<!-- Metronome -->
	<ul class="audioBin4">
	<li></li>

	</ul>
</div> 


<!-- 		// <script src = "/socket.io/socket.io.js"></script> -->
		<script src = "http://code.jquery.com/jquery-1.11.1.js"></script>
		<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>-->


  Your PeerJS id is : <span id="pid"></span><br><br>
  Connect to peer: <input type="text" id="rid" placeholder="Someone else's id" style="align: center">
                   <input type="button" value="Connect" id="connect" style="align: center"><br><br>
  
  
  <div id="chat_area" style="display: none; align: center">
    <div id="messages"></div>
    <input type="text" id="text" placeholder="Enter message">
    <input type="button" value="Ping" id="send-ping">
    <input type="button" value="Audio" id="audio-test">
  </div>
  
  <center>
    <h1>Video Chat Room</h1>

    <button id="call" type="button">Video On</button>
    <button id="end" type="button">Video Off</button>
  </center>

  <div id="videos"></div>







  <body onLoad="load()">
<object id="plugin0" type="application/x-sjc" width="0" height="0">
    <param name="onload" value="soundcardProbe" />
</object><br />

<form name="sjForm"> 
<h2>Local soundcard and network section</h2>
<table>
  <tr>
    <td width="180">Soundcard-Input: </td>
      <td width="300"><select name="soundcardInput" onChange="restartSoundcard()">
            <option></option>
          </select>
        <input name="mute" type="button" value="mute" onClick="javascript:muteLocalSound()">
        <input name="unmute" type="button" value="unmute" onClick="javascript:unmuteLocalSound()">
        <br></td>
  </tr>
  <tr>
    <td>Soundcard-Output:</td>
    <td><select name="soundcardOutput" onChange="restartSoundcard()">
          <option></option>
        </select></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><input name="audioRefresh" type="button" value="Refresh list" onClick="javascript:refreshAudioDeviceList()"></td>
  </tr>
  <tr>
    <td>Audio-Channels:</td>
    <td><select name="audioChannels" onChange="restartSoundcard()">
          <option selected="selected">1</option>
          <option>2</option>
        </select></td>
  </tr>
  <tr>
    <td>Soundcardbuffer size:</td>
    <td><select name="soundcardBufferSize" size="1" onChange="networkPacketChanger(),restartSoundcard()"><!--UNOBTRUSIVE JS !-->
          <option>64</option>
          <option>128</option>
          <option>256</option>
          <option selected="selected">512</option>
        </select></td>
  </tr>
  <tr>
    <td>Level:</td>
    <!-- <td><input type="range" name="localVolume" min="0" max="10" /></td> -->
    <td><input type="range" name="localVolume" min="0" max="1" value="0" step="0.1" onChange="setLocalVolume(this.value)" />
  </tr>
    
  <tr>
     <td>&nbsp;</td>
    <td><input name="audioStart" type="button" value="Restart" onClick="javascript:restartSoundcard()">
      <input name="audioStop" type="button" value="Stop" onClick="javascript:stopAudioDevice()"></td>
  </tr>

  <tr>
     <td><input name="getExternalIPAndPort" type="button" value="External IP and Port" onClick="javascript:goForExternalIPAndPort()"></td>
     <td><input type="text" name="localIP" value="IP=127.0.0.1" disabled/></td>
  </tr>
   
  <tr>
     <td>&nbsp;</td>
     <td><input type="text" name="localPort" value="Port=4401" disabled/></td>
  </tr>
</table>

<br>

<!--LOCAL NETWORK SECTION
<table width="400" border="1"/>
  <tr>
    <td>bind to port:</td>
    <td><input type="text" name="bindPort" value="4401"/></td>
  </tr>
    <tr>
      <td><input name="bindButton" type="button" value="bind" onClick="javascript:bind()"/></td>
      <td></td>
  </tr>
</table>

<br>
-->

<h2>Sender section</h2>
<table>
  <tr>
    <td width=180>UDP/IP Packetsize: </td>
    <td width=300><select name="IP" size="1" disabled>
          <option>64</option>
          <option>128</option>
          <option>256</option>
          <option selected="selected">512</option>
        </select></td>
  </tr>
  <tr>
    <td>Codec quality:</td>
    <td><select name="codecQuality" onChange="javascript:changeStreamSettings()">
          <option>OPUS 24 kbps</option>
          <option>OPUS 48 kbps</option>
          <option selected="selected">OPUS 96 kbps</option>
          <option>OPUS 192 kbps</option>
          <option>linear 768 kbps</option>
        </select></td>
  </tr>
  <tr>
    <td>IP-Address:</td>
      <td><input type="text" name="sendIPAddress" value="127.0.0.1"/></td>
  </tr>
  <tr>
    <td>Port:</td>
    <td><input type="text" name="sendPort" value="4401"/></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><input name="netStreamStart" type="button" value="Start Net Stream" onClick="javascript:startNetStream()" />
      <input name="netStreamStop" type="button" value="Stop Net Stream" onClick="javascript:stopNetStream()" /></td>
  </tr>
</table>

<br>

<h2>Receiver section</h2>
<table>
  <tr>
    <td width=180>Buffersize: </td>
    <td width=300>
        <select name="networkBufferSize" onChange="javascript:setReceiverBufferSize()">
          <option>1</option>
          <option selected="selected">2</option>
          <option>3</option>
          <option>4</option>
        </select>
         <input type="text" width=50 name="dropout" id="dropout" disabled>
    </td>   
  </tr>
 
  <tr>
    <td>Delay:</td>
    <td><input type="text" name="delay" id="delay" disabled></td>
  </tr>
 
  <tr>
    <td>Level:</td>
    <td><input name="remoteVolume" type="range" min="0" max="1" value="0" step="0.1" onChange="setRemoteVolume(this.value)" /></td> 
  </tr>
  <tr>
</table>

</form>

<br>

	</body>
</html>